{% extends "usuarios/panel_docentes.html" %}
{% load static %}

{% block content %}
  <!-- Botones flotantes -->
  <div class="floating-buttons">
    <form method="POST" action="{% url 'logout' %}">
      {% csrf_token %}
      <button class="icon-button" title="Cerrar sesiÃ³n">ğŸ”š</button>
    </form>
    <button class="icon-button" onclick="toggleDarkMode()" id="darkToggle" title="Modo oscuro/claro">ğŸŒ™</button>
  </div>

  <!-- Contenido -->
  <div class="container">
    <h1>Subir Nuevo Recurso</h1>
    <p style="text-align:center;">AquÃ­ puedes subir materiales para los cursos.</p>

    <form method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit" class="upload-button">
        Subir ğŸ“¤
      </button>
    </form>
    
    <hr style="margin: 20px 0;">
    
    <!-- Lista de recursos -->
    <h2 style="text-align:center;">ğŸ“ Recursos Subidos</h2>
    <ul>
      {% for recurso in recursos %}
        <li onclick="window.location.href='{% url 'detalle_recurso' recurso.id %}'">
          <div>
            ğŸ“„ <strong>{{ recurso.nombre }}</strong><br>
            ğŸ“ {{ recurso.descripcion }}<br>
            ğŸ”— <a href="{{ recurso.archivo.url }}" target="_blank">Descargar</a><br>
          </div>
          <div>
            <!-- BotÃ³n de editar -->
            <a href="{% url 'editar_recurso' recurso.id %}" class="icon-button" title="Editar Recurso">âœï¸</a>

            <!-- BotÃ³n de eliminar -->
            <form method="POST" action="{% url 'eliminar_recurso' recurso.id %}" style="display:inline;">
              {% csrf_token %}
              <button type="submit" class="icon-button" title="Eliminar Recurso" onclick="return confirm('Â¿EstÃ¡s seguro de que quieres eliminar este recurso?');">ğŸ—‘ï¸</button>
            </form>
          </div>
        </li>
      {% empty %}
        <li>No hay recursos subidos aÃºn.</li>
      {% endfor %}
    </ul>
  </div>
{% endblock %}
